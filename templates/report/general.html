{% extends 'base.html' %}
{% block header %}
<i class="fa-solid fa-table me-2"></i>{% block title %}Tổng hợp{% endblock %}
{% endblock %}
{% block content %}
<div class="row mt-3">
    <div class="col-12">
      <form method="post">
        <div class="row">
          <div class="col-lg-3">
              <div class="input-group mb-3 ">
                  <span class="input-group-text" id="basic-addon1">Từ</span>
                  <input type="datetime-local" class="form-control" name="start_date">
                </div>
          </div>
          <div class="col-lg-3">
              <div class="input-group mb-3">
                  <span class="input-group-text" id="basic-addon1">Đến</span>
                  <input type="datetime-local" class="form-control" name="end_date">
                </div>
          </div>
          <div class="col-lg-2">
          <button type="submit" class="btn btn-primary" name="filter_btn"><i class="fa-solid fa-magnifying-glass me-2"></i>Lấy dữ liệu</button>
          </div>
        </div>
      </form>
    </div>
  </div>
    <button class="btn btn-sm btn-outline-primary mb-3"  onclick="printJS('printJS-form', 'html')">In báo cáo<i class="fa-solid fa-print ms-2"></i></button>
<div class="row g-2">
    <div class="col-lg-5">
        <div class="table-responsive bg-white pt-3 px-3 border shadow-sm rounded">
    <form method="post" action="#" id="printJS-form">
            <div class="">
            <h6 class="p-0 m-0"><i class="fa-solid fa-chart-simple me-2"></i>Báo cáo tổng hợp {{value.count_day}} ngày 
            </h6>
            <small class="text-muted fst-italic">từ {{value.start}} tới {{ value.end }} </small>
            </div>
            <hr class="mx-1 my-1">
        <table class="table table-borderless table-sm bg-white">
            <thead>
              <tr>
                <th scope="col">Nội dung</th>
                <th scope="col">Tổng</th>
              </tr>
            </thead>
            <tbody>
                {% if value.table_data %}
                {% for data in value.table_data %}
              <tr >
                <th scope="row">{{ data.0 }}</th>
                <td>{{ data.1 }}</td>
                <td>{{ data.2 }}</td>
                <td>{{ data.3 }}</td>
                <td>{{ data.4 }}</td>
              </tr>
              {% endfor %}
              {% endif %}
            </tbody>
          </table>
    </form>
        </div>
    </div>
</div>

<script>
    const urlGenerator = '/report/general/';
    const todayURL = "{{ url_for('report_general') }}";

</script>

{% endblock %}